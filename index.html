<!DOCTYPE html>
<html lang="en">

<head>
    <!-- ========== Meta Tags ========== -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Anaton - SaaS Landing Page Template">

    <!-- ========== Page Title ========== -->
    <title>iGRC20 Inscription Market</title>

    <!-- ========== Favicon Icon ========== -->
    <link rel="shortcut icon" href="assets/img/favicon.png" type="image/x-icon">

    <!-- ========== Start Stylesheet ========== -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/css/font-awesome.min.css" rel="stylesheet">
    <link href="assets/css/themify-icons.css" rel="stylesheet">
    <link href="assets/css/elegant-icons.css" rel="stylesheet">
    <link href="assets/css/flaticon-set.css" rel="stylesheet">
    <link href="assets/css/magnific-popup.css" rel="stylesheet">
    <link href="assets/css/swiper-bundle.min.css" rel="stylesheet">
    <link href="assets/css/animate.css" rel="stylesheet">
    <link href="assets/css/validnavs.css" rel="stylesheet">
    <link href="assets/css/helper.css" rel="stylesheet">
    <link href="assets/css/unit-test.css" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <!-- ========== End Stylesheet ========== -->

    <!--[if lte IE 9]>
        <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
    <![endif]-->
<style>
    html{
        overflow-y:scroll;
    }
</style>
</head>

<body>


    <!-- Header 
    ============================================= -->
    <header>
        <!-- Start Navigation -->
        <nav class="navbar navbar-default validnavs white navbar-position-fixed">

            <div class="container d-flex justify-content-between align-items-center">            
                

                <!-- Start Header Navigation -->
                <div class="navbar-header">
                    <a class="navbar-brand" href="index.html">
                        <img src="assets/img/logo-light.png" class="logo" alt="Logo">
                    </a>
                </div>
                <!-- End Header Navigation -->

                <div class="attr-right">
                    <!-- Start Atribute Navigation -->
                    <div class="attr-nav">
                        <ul>
                            <li class="button border-btn secondary">
                                <a href="#" id="select-address1"  onclick="initWallet('select-address1',true)">Connect Wallet</a>
                            </li>
                        </ul>
                    </div>
                    <!-- End Atribute Navigation -->

                    <!-- Overlay screen for menu -->
                    <div class="overlay-screen"></div>
                    <!-- End Overlay screen for menu -->

                </div>
                <!-- Main Nav -->

            </div>   
        </nav>
        <!-- End Navigation -->
    </header>
    <!-- End Header -->

    <!-- Start Banner Area 
    ============================================= -->
    <div class="comming-soon-area bg-cover text-center text-light" style="background-image: url(assets/img/shape/banner-bg.png);">
        <div class="container topqw">
            <div class="row align-center">
                <div class="col-xl-8 offset-xl-2">
                    <div class="content">
                        <h1>GTS inscription</h1>
                        <p>
                            Based on Gatechain's Ordinals protocol Market.
                        </p>
                        <p>SUPPLY: <span>2,100,000,000</span></p>
                        <p>LIMIT PER MINT: <span>1,000</span></p>
                        <p>MINTED: <span id="minted">0%</span></p>
                        <p>HOLDERS: <span id="users">0</span></p>

                        <div class="f-item newsletter secondary" >
                            <form action="#" style="">
                                <input type="number" placeholder="Number of mint" class="form-control" name="time" id="mintAmount">
                                <button id="mint">Mint</button>  
                            </form>
                            <form action="#" style="margin-top: 20px;">
                                <input type="text" placeholder="Receive address" class="form-control" name="toAddress" id="transferAddress">
                                <input type="number" placeholder="Amount" class="form-control" name="amount" id="transferAmount">
                                <button  id="transfer">Transfer</button>  
                            </form>
                            <form action="#" style="margin-top: 20px;">
                                <input type="text" placeholder="Get balance by wallet address" class="form-control" name="Search" id="balanceAddress">
                                <button  id="getBalance">Search</button>  
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="bottom-info">
            <div class="left-info">
                <div class="counter-class" data-date="2023-12-17 20:30:59"><!-- Date Formate Input yyyy-mm-dd hh:mm:ss -->
                    <div class="row">
                    </div>
                </div>
            </div>     
            <div class="right-info">
                <h4>Follow us</h4>
                <ul class="site-social">
                    <li><a href="https://twitter.com/iGRC20_com"><i class="fab fa-twitter"></i></a></li>
                    <li><a href="https://t.me/iGRC20"><i class="fab fa-telegram"></i></a></li>
                    <li><a href="#"><i class="fab fa-github"></i></a></li>
                </ul>
            </div>
        </div>
    </div>
    <!-- End Banner -->
    
    <!-- jQuery Frameworks
    ============================================= -->
    <script src="assets/js/jquery-3.6.0.min.js"></script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/jquery.appear.js"></script>
    <script src="assets/js/jquery.easing.min.js"></script>
    <script src="assets/js/jquery.magnific-popup.min.js"></script>
    <script src="assets/js/modernizr.custom.13711.js"></script>
    <script src="assets/js/swiper-bundle.min.js"></script>
    <script src="assets/js/wow.min.js"></script>
    <script src="assets/js/progress-bar.min.js"></script>
    <script src="assets/js/circle-progress.js"></script>
    <script src="assets/js/isotope.pkgd.min.js"></script>
    <script src="assets/js/imagesloaded.pkgd.min.js"></script>
    <script src="assets/js/jquery.nice-select.min.js"></script>
    <script src="assets/js/count-to.js"></script>
    <script src="assets/js/jquery.scrolla.min.js"></script>
    <script src="assets/js/YTPlayer.min.js"></script>
    <script src="assets/js/TweenMax.min.js"></script>
    <script src="assets/js/typed.js"></script>
    <script src="assets/js/validnavs.js"></script>
    <script src="assets/js/loopcounter.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/my.js"></script> 
</body>
<script>

window.onload = async function (){
    var exchangeAbi = [
      {
        "anonymous": false,
        "inputs": [
          {
            "indexed": false,
            "internalType": "uint8",
            "name": "version",
            "type": "uint8"
          }
        ],
        "name": "Initialized",
        "type": "event"
      },
      {
        "anonymous": false,
        "inputs": [
          {
            "indexed": false,
            "internalType": "address",
            "name": "to",
            "type": "address"
          },
          {
            "indexed": false,
            "internalType": "uint256",
            "name": "computeNonce",
            "type": "uint256"
          }
        ],
        "name": "MintInfo",
        "type": "event"
      },
      {
        "anonymous": false,
        "inputs": [
          {
            "indexed": true,
            "internalType": "address",
            "name": "previousOwner",
            "type": "address"
          },
          {
            "indexed": true,
            "internalType": "address",
            "name": "newOwner",
            "type": "address"
          }
        ],
        "name": "OwnershipTransferred",
        "type": "event"
      },
      {
        "anonymous": false,
        "inputs": [
          {
            "indexed": false,
            "internalType": "address",
            "name": "from",
            "type": "address"
          },
          {
            "indexed": false,
            "internalType": "address",
            "name": "to",
            "type": "address"
          },
          {
            "indexed": false,
            "internalType": "uint256",
            "name": "amount",
            "type": "uint256"
          }
        ],
        "name": "TransferInscriptionLog",
        "type": "event"
      },
      {
        "inputs": [],
        "name": "DOMAIN_SEPARATOR",
        "outputs": [
          {
            "internalType": "bytes32",
            "name": "",
            "type": "bytes32"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "amt",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "amtAmount",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "",
            "type": "address"
          }
        ],
        "name": "balances",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "initialize",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "inscriptionDecimals",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "inscriptionMaxTotalSupply",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "inscriptionTotalSupply",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "mint",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "name",
        "outputs": [
          {
            "internalType": "string",
            "name": "",
            "type": "string"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "op",
        "outputs": [
          {
            "internalType": "string",
            "name": "",
            "type": "string"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "owner",
        "outputs": [
          {
            "internalType": "address",
            "name": "",
            "type": "address"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "p",
        "outputs": [
          {
            "internalType": "string",
            "name": "",
            "type": "string"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "renounceOwnership",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "tick",
        "outputs": [
          {
            "internalType": "string",
            "name": "",
            "type": "string"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "to",
            "type": "address"
          },
          {
            "internalType": "uint256",
            "name": "amount",
            "type": "uint256"
          }
        ],
        "name": "transferInscription",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "newOwner",
            "type": "address"
          }
        ],
        "name": "transferOwnership",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "users",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "version",
        "outputs": [
          {
            "internalType": "string",
            "name": "",
            "type": "string"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      }
    ]

    var currentProvider = new Web3.providers.HttpProvider('https://evm.gatenode.cc');
    // https://eth-goerli.public.blastapi.io
    //https://bsc-dataseed1.binance.org
     let web3Provider = new ethers.providers.Web3Provider(currentProvider);
  
     let contract = new ethers.Contract("0x02A0197781Ed6D4fe5E0b36599fc4fdA812A5817", exchangeAbi, web3Provider);
     var minted = await contract.inscriptionTotalSupply();
     console.log(minted.toString())
     var mintedP = minted.div(ethers.utils.parseUnits("210","ether"))/100000;
     console.log(mintedP);
     $('#minted').text(mintedP+"%");
     var users = await contract.users();
     console.log(users);
     $('#users').text(users);    
    }


        async function mintHandel(){
            console.log(1111)
        var amount = $('#mintAmount').val();
        await mint(amount);
        // $('#staticBackdrop1').modal('hide');
        // if(adr == currentSerachAdr){
        //     await getSerachPool(adr);
        // }else{
        //     await makeData(1);
        // }
    }

    $('#mint').click(
            ()=>{
           
           this.mintHandel();
     
       }
        );

        async function transferHandel(){
            console.log(1111)
        var amount = $('#transferAmount').val();
        var adr = $('#transferAddress').val();
        await transfer(adr,amount);
        // $('#staticBackdrop1').modal('hide');
        // if(adr == currentSerachAdr){
        //     await getSerachPool(adr);
        // }else{
        //     await makeData(1);
        // }
    }

    $('#transfer').click(
            ()=>{
           
           this.transferHandel();
     
       }
        );


        async function getBalanceHandel(){
            console.log(1111)
        var adr = $('#balanceAddress').val();
     var balance =   await getBalance(adr);
     console.log(balance);
     $('#balanceAddress').val(balance);
        // $('#staticBackdrop1').modal('hide');
        // if(adr == currentSerachAdr){
        //     await getSerachPool(adr);
        // }else{
        //     await makeData(1);
        // }
    }

    $('#getBalance').click(
            ()=>{
           
           this.getBalanceHandel();
     
       }
        );
</script>
</html>
